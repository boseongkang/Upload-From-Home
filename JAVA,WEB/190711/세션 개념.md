## 세션

---

사용자 정보 파일을 브라우저에 저장하는 쿠키와 달리 **세션**은 서버 측에서 관리한다.  

서버에서는 클라이언트를 구분하기 위해 **세션 ID를 부여**하며 웹 브라우저가 서버에 접속해서 브라우저를 종료할 때 까지 인증상태를 유지한다. 

접속 시간에 제한을 두어 일정 시간 응답이 없다면 정보가 유지되지 않게 설정도 가능하다. 

사용자에 대한 정보를 서버에 두기 때문에 쿠키보다 보안이 좋다. 하지만 사용자가 많아질수록 서버 메모리를 많이 차지하게 된다. 

동시접속자수가 많은 웹 사이트인 경우 서버에 과부하를 주게 되니까 성능 저하의 요인이 된다. 

----

## 클라이언트 ▶▶▶▶▶▶▶서버

(클라이언트 측) ▶(서버로)Request                 ◀Response(with Cookie)(서버 측)                                                                 (클라이언트 측) ▶(서버로)Request(with Cookie) ◀Response (서버 측 )  

위에 응답방식은 쿠키를 가지지 않음. 아랫줄은 이름만 봐도 Request(with Cookie) 라는걸 보면 cookie로 요청한다는걸로 보아 쿠키를 가졌다고 생각 가능

클라이언트가 Request를 보내면, 해당 서버의 엔진이 클라이언트에게 유일한 ID를 부여하는 데 이것이 세션ID다. 

---

## 세션 동작 방식 

클라이언트가 서버에 접속 시 세션 ID를 발급한다. 

클라이언트는 세션 ID에 대해 쿠키를 사용해서 저장한다.( 이 때 쿠키 이름은 JSESSIONID이다)

클라이언트가 서버에 다시 접속 시 이 쿠키를 이용해서 세션 ID 값을 서버에 전달

---

## 세션의 특징

각 클라이언트에게 고유 ID를 부여한다.

세션 ID로 클라이언트를 구분해서 클라이언트의 요구에 맞는 서비스를 제공한다.

보안면에서 쿠키보다 우수하다.

사용자가 많아질수록 서버에 메모리를 많이 차지하게 된다.(왜냐하면 당연히 서버에 저장하니까)

---

### 세션의 사용 예) 로그인과 같이 보안상 중요한 작업을 수행할 때 사용한다. 

---

## 쿠키와 세션의 차이 

쿠키와 세션은 비슷한 역할을하고 동작원리도 비슷하다.

because 세션은 결국 쿠키를 사용하니까. 

**BUT** 가장 큰 차이점은 사용자의 기록정보다 저장되는 위치이다.

그래서 쿠키는 서버의 자원을 전혀 사용하지 않고, 세션은 서버의 자원을 사용한다. 

보안면에서 세션이 더 우수하며, 요청 속도는 쿠키가 세션보다 더 빠릅니다.

왜냐, 세션은 서버의 처리가 필요하기 때문.

**보안**, 쿠키는 클라이언트 로컬에 저장되기 때문에 변질되거나 request에서 스나이핑 당할 우려가 있어서 보약에 취약하지만 세션은 쿠키를 이용해서 sessionid만 저장하고 그것으로 구분해서 서버에서 처리하기 때문에 비교적 보안성이 좋은편이다. **(스나이핑 당한다????)**

**라이프 사이클**, 쿠키도 만료시간이 있지만 파일로 저장되기 때문에 브라우저를 종료해도 계속해서 정보가 남아 있을 수 있다. 또한 만료기간을 넉넉하게 잡아두면 쿠키삭제를 할 때 까지 유지될 수도 있다. 

반면에 세션도 만료시간을 정할 수 있지만 브라우저가 종료되면 만료시간에 상관없이 삭제된다.

