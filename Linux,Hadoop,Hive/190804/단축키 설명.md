## Hadoop

---

### Hadoop을 켤때는 항상 start-dfs.sh 로 켜야한다. 

### 마찬가지로 종료할때는 stop-dfs.sh

데몬이 수행중인지 확인하려면 jps 치면 된다. 

이렇게 결과창을 보게 되면 성공

master : NameNode 

​    slave1, slave2, slave3 : DataNode

​    slave1 : SecondaryNameNode

#### hdfs dfs -ls /[디렉토리명 또는 파일명]

지정된 디렉토리의 파일리스트 또는 지정된 파일의 정보를 보여준다.

#### hdfs dfs -lsr /[디렉토리명]

지정된 디렉토리의 파일리스트 및 서브디렉토리들의 파일 리스트도 보여준다.

####  hdfs dfs -mkdir /디렉토리명

지정된 디렉토리를 생성한다.

####  hdfs dfs -cat /[디렉토리/]파일

지정된 파일의 내용을 화면에 출력한다.

####  hdfs dfs -put 사용자계정로컬파일 HDFS디렉터리[/파일]

지정된 사용자계정 로컬 파일시스템의 파일을 HDFS 상 디렉터리의 파일로 복사한다.

####  hdfs dfs -get HDFS디렉터리의파일  사용자계정로컬 디렉터리[/파일]

지정된 HDFS상의 파일을 사용자계정 로컬 파일시스템의 디렉터리나 파일로 복사한다.

#### hdfs dfs -rm /[디렉토리]/파일

지정된 파일을 삭제한다.

#### hdfs dfs -rmr /디렉토리

지정된 디렉터리를 삭제. 비어 있지않은 디렉터리도 삭제하며 서브 디렉토리도 삭제한다.

####  hdfs dfs -tail /[디렉토리]/파일

지정된 파일의 마지막 1kb 내용을 화면에 출력한다.

#### hdfs dfs –chmod 사용자허가모드 /[디렉토리명 또는 파일명]

지정된 디렉토리 또는 파일의 사용자 허가 모드를 변경한다.

#### 명령모드에서 shift G 하면 제일 아래로 가고 i 하면 입력모드로 바뀌고 o하면 한줄 개행되고 입력모드 변환 

#### ll 하면 모든 파일리스트 보임

​	명령모드에서 입력모드로 들어가는 명령들 : a, i, o  

​	a : 현재 커서 뒤쪽에 입력, A : 현재 라인 마지막에 입력

​	i : 현재 커서 앞쪽에 입력, I : 현재 라인 처음에 입력

​	o : 현재 라인 아랫줄에 입력, O : 현재 라인 윗줄에 입력

​	입력모드에서 명령모드로 나가는 키 : Esc

​	u : undo,  . (점이다) : redo

#### cd 로 어디든 이동 

---

#### mv : move 파일이동. 파일명 변경

​			mv old파일 new파일 old 파일을 new 파일로 변경해라, old 파일은 없어			진다.  **파일명 변경**

###### 			mv old파일 디렉토리명 이게 이동 / 두번째 아규먼트가 디렉토리면 이동이고 디렉토			리가 아니면 파일명 변경이다. 

​			mv old파일 디렉토리명/new파일명 old 파일을 디렉토리로 이동시키면			서 파일명을 변경도 한다.	

​	mkdir : make directory 새로운 디렉토리를 생성, rmdir : 기존 디렉토리를 삭				제(비어있어야 가능) 

​	rm : remove 파일 삭제

​			rm -r 디렉토리(관리자 계정이 아니고서야 다른 사람이의 폴더같은걸 삭			제 할수 없다.)

​			rm -rf 디렉토리, rm -f 파일명

---

##### tar xvfz myApp.tar.gz  xvfz 여기서 z가 붙어있으면 압축된것도 풀린다.

#### gzip -d myAPp.tar.gz --> myApp.tar 이건 압축해제 -d 를 줘서

우리가 자주 사용하는건 tar xvzf 하고 파일명 입력해서 주로 압축 풀었따.

----

### vi : visual editor : (ed 에디터) 

​		명령모드, 입력모드

​		x : 현재 커서 위치의 문자 한 개 삭제, 3x=현재 커서 위치로 부터 3개 지움

​		dd : 현재 커서 위치의 한 행을 삭제, 5dd=현재 커서 위치부터 5개행삭제

​		yy : 현재 커서 위치의 한 행을 복사, 4yy= 현재 커서 행부터 4개행복사

​		p : 현재 커서 위치의 아래 행에 붙이기, P 는 못들었따

​		dw : 현재 커서 위치의 단어를 삭제

### vi editor 종료 명령어 

저장하고 종료 : `:wq`

저장하지 않고 종료 : `:q, :q!` !사용하면 강제로

저장만 : `:w` 